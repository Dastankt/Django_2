<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>LMS | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</title>
    <style>
        :root { --bg: #050505; --card-bg: rgba(20, 20, 20, 0.9); --text: #f5f5f5; --red: #e63946; --yellow: #ffb703; --border: #333; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; min-height: 100vh; }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ */
        .area { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: #000; }
        .circles { position: absolute; top: 0; left: 0; width: 100%; height: 100%; margin:0; padding:0; overflow:hidden; }
        .circles li { position: absolute; list-style: none; background: rgba(230, 57, 70, 0.1); filter: blur(40px); animation: animate 20s infinite linear; bottom: -150px; }
        .circles li:nth-child(1){ left: 25%; width: 80px; height: 80px; }
        @keyframes animate { 0%{transform: translateY(0) rotate(0);} 100%{transform: translateY(-1200px) rotate(720deg); opacity:0; border-radius: 50%;} }

        /* Sidebar */
        .sidebar { width: 250px; background: #0a0a0a; border-right: 1px solid var(--red); position: fixed; height: 100vh; z-index: 10; }
        .sidebar h2 { text-align: center; color: var(--yellow); margin: 30px 0; }
        .sidebar a { display: block; padding: 15px 25px; color: #888; text-decoration: none; transition: 0.3s; border-left: 3px solid transparent; }
        .sidebar a:hover, .sidebar a.active { background: rgba(230, 57, 70, 0.1); border-left: 3px solid var(--red); color: #fff; }

        .main-content { margin-left: 250px; padding: 40px; width: calc(100% - 250px); box-sizing: border-box; }
        .card { background: var(--card-bg); border: 1px solid var(--border); border-radius: 15px; padding: 25px; backdrop-filter: blur(10px); margin-bottom: 30px; }

        input, select { width: 100%; padding: 12px; margin: 10px 0; background: #111; border: 1px solid var(--border); color: #fff; border-radius: 8px; box-sizing: border-box; }
        .btn { background: var(--red); color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: var(--yellow); color: #000; transform: translateY(-2px); }

        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 15px; color: var(--yellow); border-bottom: 2px solid var(--red); }
        td { padding: 15px; border-bottom: 1px solid #222; }
    </style>
</head>
<body>
    <div class="area"><ul class="circles"><li></li><li></li><li></li></ul></div>

    <div class="sidebar">
        <h2>LMS</h2>
        <a href="{% url 'home' %}">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="{% url 'student' %}">üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç—ã</a>
        <a href="{% url 'mentor' %}">üë®‚Äçüè´ –ú–µ–Ω—Ç–æ—Ä—ã</a>
        <a href="{% url 'task' %}">üìù –ó–∞–¥–∞–Ω–∏—è</a>
        <a href="{% url 'visit' %}">üìÖ –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å</a>
        <a href="{% url 'schedule' %}" class="active">üïí –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
    </div>

    <div class="main-content">
        <h1>–£—á–µ–±–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫</h1>

        <div class="card">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ</h3>
            <form method="POST">
                {% csrf_token %}
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <select name="day" required>
                        <option value="–ü–ù">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</option>
                        <option value="–í–¢">–í—Ç–æ—Ä–Ω–∏–∫</option>
                        <option value="–°–†">–°—Ä–µ–¥–∞</option>
                        <option value="–ß–¢">–ß–µ—Ç–≤–µ—Ä–≥</option>
                        <option value="–ü–¢">–ü—è—Ç–Ω–∏—Ü–∞</option>
                        <option value="–°–ë">–°—É–±–±–æ—Ç–∞</option>
                    </select>
                    <input type="time" name="time" required>
                </div>
                <input type="text" name="subject" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞" required>
                <select name="mentor" required>
                    <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—Ç–æ—Ä–∞</option>
                    {% for m in mentors %}
                        <option value="{{ m.id }}">{{ m.first_name }}</option>
                    {% endfor %}
                </select>
                <button type="submit" name="add_schedule" class="btn">–ó–∞–ø–∏—Å–∞—Ç—å –≤ –≥—Ä–∞—Ñ–∏–∫</button>
            </form>
        </div>

        <div class="card">
            <table>
                <thead>
                    <tr>
                        <th>–î–µ–Ω—å</th>
                        <th>–í—Ä–µ–º—è</th>
                        <th>–ü—Ä–µ–¥–º–µ—Ç</th>
                        <th>–ú–µ–Ω—Ç–æ—Ä</th>
                        <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for s in schedules %}
                    <tr>
                        <td style="color: var(--yellow); font-weight: bold;">{{ s.get_day_display }}</td>
                        <td>{{ s.time|time:"H:i" }}</td>
                        <td>{{ s.subject }}</td>
                        <td>{{ s.mentor.first_name }}</td>
                        <td>
                            <form method="POST" style="display:inline;">
                                {% csrf_token %}
                                <input type="hidden" name="delete_id" value="{{ s.id }}">
                                <button type="submit" class="btn" style="padding: 5px 10px; background: #333;">‚ùå</button>
                            </form>
                        </td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="5" style="text-align: center;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫–∞ –ø—É—Å—Ç–æ</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>